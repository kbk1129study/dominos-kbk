<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fullpage-header,footer구조</title>
    <!-- 구글폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- js -->
    <script src="./js/fullpage.js"></script>
    <script src="./js/search.js"></script>

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.css" /> -->
    <!-- FullPage.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.js"></script>

    <!-- css -->
    <link rel="stylesheet" href="./css/style.css">
    <!-- FullPage.css -->
    <link rel="stylesheet" href="./css/fullpage.min.css">
    <!-- Font Awesome 아이콘 라이브러리 추가 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- font-awesome 공식사이트 - https://fontawesome.com/ -->

    <!-- <link rel="stylesheet" data-purpose="Layout StyleSheet" title="Web Awesome"
        href="/css/app-wa-2e45578ecf3b28ce6383d10b8c0bf4d0.css?vsn=d"> -->

    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.0/css/all.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.0/css/sharp-thin.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.0/css/sharp-solid.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.0/css/sharp-regular.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.0/css/sharp-light.css">

</head>

<body>
    <!-- 검색 영역과 검색 버튼을 감싸는 컨테이너 -->
    <div class="search-container">
        <!-- 검색 입력창 -->
        <div class="search-box">
            <input type="search" id="searchInput" placeholder="주변매장의 프로모션을 확인해보세요!">
            <!-- 검색 버튼 -->
            <button onclick="search()" id="searchBtn">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    <!-- 고정된 헤더 영역 -->
    <header>
        <!-- h1 추가   class="headerimg" 빼기 -->
        <div class="headerInner">
            <div class="snow_wrap">
                <canvas class="snow"></canvas>
            </div>
            <!--   <h1 class="logo">로 수정 -->
            <h1 class="logo"><a href="#"><img src="./images/v1_56.png" alt="도미노피자로고"></a></h1>

            <ul class="menu">
                <li><a href="https://web.dominos.co.kr/goods/list?dsp_ctgr=C0101">메뉴</a></li>
                <li><a href="https://web.dominos.co.kr/ecoupon/main">e-쿠폰</a></li>
                <li><a href="https://web.dominos.co.kr/voucher/list?gubun=M">상품권선물</a></li>
                <li><a href="https://web.dominos.co.kr/event/list?gubun=E0200">이벤트.제휴</a></li>
                <li><a href="https://web.dominos.co.kr/branch">매장검색</a></li>
                <li><a href="https://web.dominos.co.kr/company/contents/chainstore1">가맹점모집</a></li>
                <li><a href="#" id="moreButton">더보기 <i class="fa-solid fa-chevron-down"></i></a>
                    <ul class="submenu">
                        <li><a href="#">도미노서비스</a></li>
                        <li><a href="#">매니아 혜택</a></li>
                        <li><a href="#">도미노 모멘트</a></li>
                        <li><a href="#">퀵오더</a></li>
                        <li><a href="#">단체주문 서비스</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </header>
    <div id="fullpage">
        <div class="section">
            <a href="#"><img src="./images/20231128_pkNn9GXX.png" alt="겨울 한정판 사이드디시 출시"></a>
        </div>
        <div class="section">
            <a href="#"><img src="./images/20231213_panUQa9K.png" alt="스노우피자 빌리지 오픈"></a>
        </div>
        <div class="section">
            <a href="#"><img src="./images/20231214_xQcsOsB1.png" alt="연말 배달쿠폰"></a>
        </div>
        <!-- 추가적인 섹션들을 필요에 따라 추가 -->
    </div>
    <!-- 푸터 영역 -->
    <footer>
        <div class="footerInner">
            <div><a href="#"> <img src="./images/v1_56.png" class="footerlogo" alt="footer로고">
                </a></div>
            <ul class="footer-contact">
                <li><a href="https://web.dominos.co.kr/contents/law">이용약관</a></li>
                <li class="footerInnerBoldBox"><a href="https://web.dominos.co.kr/contents/privacy">개인정보 처리방침</a></li>
                <li class="footerInnerBoldBox"><a href="https://web.dominos.co.kr/contents/locationLaw">위치기반 서비스</a>
                </li>
                <li><a href="https://web.dominos.co.kr/contents/youthProtection">청소년 보호방침</a></li>
                <li><a href="https://web.dominos.co.kr/contents/videoLaw">영상정보처리기기 운영관리방침</a></li>
                <li><a href="https://web.dominos.co.kr/bbs/faqList?view_gubun=W&bbs_cd=online">고객센터</a></li>
                <li><a href="https://web.dominos.co.kr/company/jobList?type=R">인재채용</a></li>
                <li><a href="https://web.dominos.co.kr/company/contents/chainstore1">가맹점모집</a></li>
                <li><a href="https://web.dominos.co.kr/order/groupOrder">단체주문</a></li>
            </ul>
            <p>1577-3082</p>

        </div>
    </footer>
    <!-- <script>
        $(function () {
            $('#fullpage').fullpage({
                sectionsColor: ['#c32232', '#822627', '#2e4c30', '#274136', '#c4ddf3', '#2d3739',
                    '#161616'
                ],
                anchors: ['section1', 'section2', 'section3', 'section4', 'section5', 'section6',
                    'section7'
                ],
                navigation: true, // FullPage.js 내비게이션 활성화
                navigationPosition: 'right', // 내비게이션 위치 (right, left)

            });

            // 더보기
            $('#moreButton').click(function () {
                $('.submenu').toggle();
            });
        });
        
    </script> -->
    <!-- <script>
        // 검색 함수
        function search() {
            // 검색어 가져오기
            var searchInput = document.getElementById("searchInput");
            var searchInputValue = searchInput.value;
    
            // 실제로는 여기에서 검색 로직을 수행하면 됩니다.
            // 예를 들어, 검색어로 서버에 요청을 보내거나 다른 작업을 수행할 수 있습니다.
    
            // 여기에서는 검색어를 콘솔에 출력하는 예제를 보여줍니다.
            console.log("검색어:", searchInputValue);
    
            // Set focus on the search input after the search button is clicked
            searchInput.focus();
        }
    </script> -->
    <script>
        const canvas = $('.snow')[0];
        const context = canvas.getContext('2d');

        // 캔버스의 초기 너비와 높이를 설정합니다.
        let canvasWidth = $('.snow_wrap').width();
        let canvasHeight = $('.snow_wrap').height();
        let lastDeviceType = window.innerWidth < 768 ? 'mobile' : 'desktop';

        // 눈송이 파티클을 생성하는 함수입니다.
        function createParticles() {
            // 기존 파티클을 삭제하고 새 파티클을 생성합니다.
            snowParticles = [];
            // 디바이스에 따라 파티클 수를 조정합니다.
            const particleCount = lastDeviceType === 'mobile' ? 40 : 100;
            for (let i = 0; i < particleCount; i++) {
                snowParticles.push(new createParticle());
            }
        }
        // 캔버스의 크기를 조정하는 함수입니다.
        function setCanvasSize() {
            const currentDeviceType = window.innerWidth < 768 ? 'mobile' : 'desktop';
            // 디바이스가 변경되면 새로운 파티클을 생성합니다.
            if (currentDeviceType !== lastDeviceType) {
                lastDeviceType = currentDeviceType;
                createParticles();
            }

            // 임시 캔버스를 사용하여 현재 내용을 저장합니다.
            const tempCanvas = document.createElement('canvas');
            const tempCtx = tempCanvas.getContext('2d');
            tempCanvas.width = canvasWidth;
            tempCanvas.height = canvasHeight;
            tempCtx.drawImage(canvas, 0, 0);

            // 캔버스의 크기를 재설정합니다.
            canvasWidth = $('.snow_wrap').width();
            canvasHeight = $('.snow_wrap').height();
            canvas.width = canvasWidth;
            canvas.height = canvasHeight;

            // 임시 캔버스의 내용을 원래 캔버스에 복원합니다.
            context.drawImage(tempCanvas, 0, 0);
        }
        // 눈송이 파티클을 저장할 배열입니다.
        let snowParticles = [];

        // 개별 눈송이 파티클을 생성하는 생성자 함수입니다.
        function createParticle() {
            this.x = Math.random() * canvasWidth;
            this.y = Math.random() * canvasHeight;
            this.vx = Math.random() * 4 - 1;
            this.vy = Math.random() * 4 + 1;
            this.color = `rgba(255, 255, 255, ${Math.random()})`;
            this.radius = Math.random() * 5 + 2;
        }
        // 눈송이 파티클을 그리는 함수입니다.
        function draw() {
            context.clearRect(0, 0, canvasWidth, canvasHeight); // 캔버스를 지웁니다.
            snowParticles.forEach(function (particle) {
                context.beginPath();
                let gradient = context.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y,
                    particle.radius);
                gradient.addColorStop(1, particle.color);
                gradient.addColorStop(1, "rgb(66, 66, 66)");
                context.fillStyle = gradient;
                context.arc(particle.x, particle.y, particle.radius, Math.PI * 2, false);
                context.fill();
                // 파티클 위치 업데이트
                particle.x += particle.vx;
                particle.y += particle.vy;
                // 파티클이 캔버스 밖으로 나가면 반대편에서 다시 시작
                if (particle.x < -50) particle.x = canvasWidth + 50;
                if (particle.y < -50) particle.y = canvasHeight + 50;
                if (particle.x > canvasWidth + 50) particle.x = -50;
                if (particle.y > canvasHeight + 50) particle.y = -50;
            });
        }
        // 창 크기가 변경될 때마다 캔버스 크기를 조정합니다.
        $(window).resize(setCanvasSize);
        setCanvasSize(); // 초기 캔버스 크기를 설정합니다.
        createParticles(); // 초기 파티클을 생성합니다.
        setInterval(draw, 33); // 33ms 간격으로 눈송이 애니메이션을 시작합니다.
    </script>
</body>

</html>